var R=Object.defineProperty;var O=(n,o,t)=>o in n?R(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t;var h=(n,o,t)=>(O(n,typeof o!="symbol"?o+"":o,t),t);import{a1 as B,g as M,a2 as S,F as T,a3 as _,a4 as P,a5 as x,S as H,W as E,b as G,a as I,a6 as q,a7 as j,a8 as D,a9 as L,aa as F}from"./three.module.5d3a2576.js";import{O as W}from"./OrbitControls.7b6e9eb2.js";import{d as X,r as Y,o as Z,b as N,a as V}from"./vendor.fa85b503.js";function J(n){const o=new B(n,1),t=o.getAttribute("position"),e=new M,a={};for(let d=0;d<t.count;d++){e.fromBufferAttribute(t,d);const l=[e.x,e.y,e.z].join(",");a[l]||(a[l]={x:e.x+=Math.random()*n/4,y:e.y+=Math.random()*n/4,z:e.z+=Math.random()*n/4});const{x:m,y:p,z:u}=a[l];t.setXYZ(d,m,p,u)}let i="#ffffff";i=K(i,2+Math.random()*10);const g=new S({color:i,wireframe:!0}),s=new T(o,g);return s.castShadow=!0,s.receiveShadow=!0,s.scale.set(1+Math.random()*.4,1+Math.random()*.8,1+Math.random()*.4),s.r={},s.r.x=Math.random()*.005,s.r.y=Math.random()*.005,s.r.z=Math.random()*.005,s}function K(n,o){n=String(n).replace(/[^0-9a-f]/gi,""),n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),o=o||0;let t="#",e,a;for(a=0;a<3;a++)e=parseInt(n.substr(a*2,2),16),e=Math.round(Math.min(Math.max(0,e+e*o),255)).toString(16),t+=("00"+e).substr(e.length);return t}const Q=.25,U=5,$=0,f={percentage:[76.45,12.1,7.6,3,.6,.13],color:[16764015,16765601,16774378,16316415,13293567,11190271],size:[.7,.7,1.15,1.48,2,2.5,3.5]},tt=new _().load("src/assets/images/pseudo_star.png"),et=f.color.map(n=>new P({map:tt,color:n}));function ot(n,o,t){return Math.min(t,Math.max(o,n))}class nt{constructor(o){h(this,"position");h(this,"starType");h(this,"obj");this.position=o,this.starType=this.generateStarType(),this.obj=null}generateStarType(){let o=Math.random()*100;const t=f.percentage;for(let e=0;e<t.length;e++)if(o-=t[e],o<0)return e;return 0}updateScale(o){var a;let e=this.position.distanceTo(o.position)/250*f.size[this.starType];e=ot(e,Q,U),(a=this.obj)==null||a.scale.copy(new M(e,e,e))}toThreeObject(o){const t=new x(et[this.starType]);t.layers.set($),t.scale.multiplyScalar(f.size[this.starType]),t.position.copy(this.position),this.obj=t,o.add(t)}}const dt=X({__name:"playground",setup(n){const o=Y(null),t=new H;let e,a;const i=new E({antialias:!0,logarithmicDepthBuffer:!0});Z(()=>{t.background=new G("black");const{width:r,height:c}=o.value.getBoundingClientRect();e=new I(75,r/c,.1,1e3),e.position.setZ(30),i.setPixelRatio(window.devicePixelRatio),i.setSize(r,c),o.value.appendChild(i.domElement),a=new W(e,i.domElement),m()});function g(r,c){i.render(r,c)}const s=new q(10,3,16,100),d=new S({color:"orange"}),l=new T(s,d);l.position.set(50,50,50);function m(){requestAnimationFrame(m),l.rotation.x+=.001,l.rotation.y+=.02,l.rotation.z+=.001,a.update(),g(t,e)}const p=new j(16777215,2,0,1);p.position.set(10,10,10);const u=new j(16777215,5,500,0);u.position.set(-35,-5,20),t.add(p,u);const z=new D(4210752,.5);t.add(z),new _().load("src/assets/images/background.jpg",function(r){t.background=r});const k=new L(p),v=new L(u),A=new F(200,50);t.add(k,v,A);function w(r=0,c=1){const y=1-Math.random(),C=Math.random();return Math.sqrt(-2*Math.log(y))*Math.cos(2*Math.PI*C)*c+r}for(let r=0;r<200;r++){const c=new M(w(0,20),w(0,20),w(0,20));new nt(c).toThreeObject(t)}const b=J(10);return b.position.set(50,0,30),t.add(b),(r,c)=>(V(),N("div",{ref_key:"el",ref:o,class:"w-full h-full"},null,512))}});export{dt as default};
