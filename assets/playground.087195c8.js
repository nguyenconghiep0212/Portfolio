var O=Object.defineProperty;var P=(n,o,t)=>o in n?O(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t;var u=(n,o,t)=>(P(n,typeof o!="symbol"?o+"":o,t),t);import{a1 as G,g as y,a2 as L,F as S,a3 as z,a4 as E,a5 as I,S as Y,W as q,b as D,a as F,a6 as W,J as X,a7 as Z,a8 as J,a9 as A,aa as N,ab as k,ac as V}from"./three.module.890a6b73.js";import{O as K}from"./OrbitControls.7256e180.js";import{d as Q,r as U,o as $,b as tt,a as et}from"./vendor.03126991.js";function ot(n){const o=new G(n,1),t=o.getAttribute("position"),e=new y,a={};for(let l=0;l<t.count;l++){e.fromBufferAttribute(t,l);const p=[e.x,e.y,e.z].join(",");a[p]||(a[p]={x:e.x+=Math.random()*n/4,y:e.y+=Math.random()*n/4,z:e.z+=Math.random()*n/4});const{x:f,y:g,z:d}=a[p];t.setXYZ(l,f,g,d)}let i="#ffffff";i=nt(i,2+Math.random()*10);const h=new L({color:i,wireframe:!0}),s=new S(o,h);return s.castShadow=!0,s.receiveShadow=!0,s.scale.set(1+Math.random()*.4,1+Math.random()*.8,1+Math.random()*.4),s.r={},s.r.x=Math.random()*.005,s.r.y=Math.random()*.005,s.r.z=Math.random()*.005,s}function nt(n,o){n=String(n).replace(/[^0-9a-f]/gi,""),n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),o=o||0;let t="#",e,a;for(a=0;a<3;a++)e=parseInt(n.substr(a*2,2),16),e=Math.round(Math.min(Math.max(0,e+e*o),255)).toString(16),t+=("00"+e).substr(e.length);return t}const at=.25,rt=5,st=0,m={percentage:[76.45,12.1,7.6,3,.6,.13],color:[16764015,16765601,16774378,16316415,13293567,11190271],size:[.7,.7,1.15,1.48,2,2.5,3.5]},it=new z().load("src/assets/images/pseudo_star.png"),ct=m.color.map(n=>new E({map:it,color:n}));function lt(n,o,t){return Math.min(t,Math.max(o,n))}class dt{constructor(o){u(this,"position");u(this,"starType");u(this,"obj");this.position=o,this.starType=this.generateStarType(),this.obj=null}generateStarType(){let o=Math.random()*100;const t=m.percentage;for(let e=0;e<t.length;e++)if(o-=t[e],o<0)return e;return 0}updateScale(o){var a;let e=this.position.distanceTo(o.position)/250*m.size[this.starType];e=lt(e,at,rt),(a=this.obj)==null||a.scale.copy(new y(e,e,e))}toThreeObject(o){const t=new I(ct[this.starType]);t.layers.set(st),t.scale.multiplyScalar(m.size[this.starType]),t.position.copy(this.position),this.obj=t,o.add(t)}}const wt=Q({__name:"playground",setup(n){const o=U(null),t=new Y;let e,a;const i=new q({antialias:!0,logarithmicDepthBuffer:!0});$(()=>{t.background=new D("black");const{width:r,height:c}=o.value.getBoundingClientRect();e=new F(75,r/c,.1,1e3),e.position.setZ(30),i.setPixelRatio(window.devicePixelRatio),i.setSize(r,c),o.value.appendChild(i.domElement),a=new K(e,i.domElement),T()});const h=new W(10,12,6),s=new X({wireframe:!0}),l=new S(h,s);t.add(l);function p(r,c){i.render(r,c)}const f=new Z(10,3,16,100),g=new L({color:"orange"}),d=new S(f,g);d.position.set(50,50,50);function T(){requestAnimationFrame(T),d.rotation.x+=.001,d.rotation.y+=.02,d.rotation.z+=.001,l.rotateY(.01),a.update(),p(t,e)}const v=new J(50);t.add(v);const w=new A(16777215,2,0,1);w.position.set(10,10,10);const M=new A(16777215,5,500,0);M.position.set(-35,-5,20),t.add(w,M);const C=new N(4210752,.5);t.add(C),new z().load("src/assets/images/background.jpg",function(r){t.background=r});const R=new k(w),x=new k(M),B=new V(200,50);t.add(R,x,B);function b(r=0,c=1){const j=1-Math.random(),H=Math.random();return Math.sqrt(-2*Math.log(j))*Math.cos(2*Math.PI*H)*c+r}for(let r=0;r<200;r++){const c=new y(b(0,20),b(0,20),b(0,20));new dt(c).toThreeObject(t)}const _=ot(10);return _.position.set(50,0,30),t.add(_),(r,c)=>(et(),tt("div",{ref_key:"el",ref:o,class:"w-full h-full"},null,512))}});export{wt as default};
